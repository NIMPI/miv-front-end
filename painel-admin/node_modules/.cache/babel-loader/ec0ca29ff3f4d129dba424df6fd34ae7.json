{"remainingRequest":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\pages\\arquivos\\Arquivos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\pages\\arquivos\\Arquivos.vue","mtime":1613881543856},{"path":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612223459750},{"path":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1612223459460},{"path":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612223459750},{"path":"C:\\Users\\Victor Bailiot\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1612223498636}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Victor Bailiot\\\\Documents\\\\GitHub\\\\miv-front-end\\\\painel-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { range } from 'lodash';\nexport default {\n  name: 'Arquivos',\n  data: function data() {\n    return {\n      docs: [],\n      pages: {},\n      pagination: {},\n      numPage: 1\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    try {\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(function (res) {\n        _this.docs = res.body.docs;\n        _this.pagination = res.body;\n        _this.pages = range(1, _this.pagination.totalPages + 1);\n      });\n    } catch (err) {\n      console.log(err + 'Erro no retorno dos documentos');\n    }\n  },\n  methods: {\n    view: function () {\n      var _view = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(function (res) {\n                  _this2.docs = res.body.docs;\n                  _this2.pagination = res.body;\n                  _this2.pages = range(1, _this2.pagination.totalPages + 1);\n                  console.log(_this2.pagination.page);\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function view() {\n        return _view.apply(this, arguments);\n      }\n\n      return view;\n    }(),\n    navigate: function navigate(page) {\n      this.numPage = page;\n\n      try {\n        this.view();\n      } catch (err) {\n        console.log(err + 'Erro no retorno dos documentos');\n      }\n    },\n    delet: function delet(id) {\n      try {\n        this.$http.delete(\"http://localhost:3000/v1/document/\" + id).then(function (res) {\n          alert('Excluido com Sucesso !');\n        });\n      } catch (err) {\n        console.log(err);\n      } finally {\n        this.view();\n      }\n    }\n  }\n};",{"version":3,"sources":["Arquivos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,SAAA,KAAA,QAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,QAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,oDAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,UAAA,CAAA,UAAA,GAAA,CAAA,CAAA;AACA,OAJA;AAKA,KANA,CAMA,OAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,GAAA,gCAAA;AACA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,KAAA,CAAA,GAAA,CAAA,oDAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA;AACA,kBAAA,MAAA,CAAA,KAAA,GAAA,KAAA,CAAA,CAAA,EAAA,MAAA,CAAA,UAAA,CAAA,UAAA,GAAA,CAAA,CAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,UAAA,CAAA,IAAA;AACA,iBALA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AASA,IAAA,QATA,oBASA,IATA,EASA;AACA,WAAA,OAAA,GAAA,IAAA;;AACA,UAAA;AACA,aAAA,IAAA;AACA,OAFA,CAEA,OAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,GAAA,gCAAA;AACA;AACA,KAhBA;AAiBA,IAAA,KAjBA,iBAiBA,EAjBA,EAiBA;AACA,UAAA;AACA,aAAA,KAAA,CAAA,MAAA,CAAA,uCAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,wBAAA,CAAA;AACA,SAFA;AAGA,OAJA,CAIA,OAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OANA,SAMA;AACA,aAAA,IAAA;AACA;AACA;AA3BA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container-componente\">\r\n    <h1 style=\"font-family: 'Khula', sans-serif;\">Arquivos</h1>\r\n    <h6 style=\"font-family: 'Khula', sans-serif;\">Instituto Federal de Rondonia</h6>\r\n    <div class=\"float-right mb-3\">\r\n    <router-link :to=\"{ name: 'Metadados' }\">\r\n      <button class=\"btn btn-success mr-3\">Novo Documento</button>\r\n    </router-link>\r\n    <button v-on:click=\"view()\" class=\"btn btn-info ml-4\">Atualizar</button>\r\n    </div>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Nome</th>\r\n          <th>Tamanho</th>\r\n          <th>Tipo</th>\r\n          <th>Descrição</th>\r\n          <th>Data de Upload</th>\r\n          <th></th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr class=\"celula\" v-for=\"(doc, id) in docs\" v-bind:key=\"id\">\r\n          <td class=\"nome\" data-title=\"Nome\">{{ doc.title }}</td>\r\n          <td class=\"tamanho\" data-title=\"Tamanho\">{{ doc.size + ' Mb'}}</td>\r\n          <td class=\"tipo\" data-title=\"Tipo\">{{ doc.type }}</td>\r\n          <td class=\"descricao\" data-title=\"Descrição\">{{ doc.description }}</td>\r\n          <td class=\"data\" data-label=\"Data de Upload\">{{ new Date(doc.dateCreated).toLocaleString() }}</td>\r\n          <td class=\"icons\">\r\n            <router-link :to=\"{ name: 'Metadadosput', params:{id: (doc._id)} }\">\r\n              <button class=\"btn btn-primary mr-3\">\r\n                <i class=\"material-icons d-flex justify-content-center\">create</i>\r\n              </button>\r\n            </router-link>\r\n            <button v-on:click=\"delet(doc._id)\" class=\"btn btn-danger\">\r\n              <i class=\"material-icons d-flex justify-content-center\">delete</i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n    </tbody>\r\n    </table>\r\n    <div class=\"pagination\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" v-on:click=\"navigate(numPage-1)\">&laquo;</a>\r\n      </li>\r\n      <li v-for=\"page in pages\" :class=\"{ active: pagination.page === page }\" class=\"page-item\" v-bind:key=\"page\">\r\n        <a class=\"page-link\" href=\"#\" v-on:click=\"navigate(page)\">{{page}}</a>\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" v-on:click=\"navigate(numPage+1)\">&raquo;</a>\r\n      </li>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { range } from 'lodash'\r\nexport default {\r\n  name: 'Arquivos',\r\n  data: function () {\r\n    return {\r\n      docs: [],\r\n      pages: {},\r\n      pagination: {},\r\n      numPage: 1\r\n    }\r\n  },\r\n  created: function () {\r\n    try {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n      })\r\n    } catch (err) {\r\n      console.log(err + 'Erro no retorno dos documentos')\r\n    }\r\n  },\r\n  methods: {\r\n    async view () {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n        console.log(this.pagination.page)\r\n      })\r\n    },\r\n    navigate (page) {\r\n      this.numPage = page\r\n      try {\r\n        this.view()\r\n      } catch (err) {\r\n        console.log(err + 'Erro no retorno dos documentos')\r\n      }\r\n    },\r\n    delet (id) {\r\n      try {\r\n        this.$http.delete(`http://localhost:3000/v1/document/` + id).then(res => {\r\n          alert('Excluido com Sucesso !')\r\n        })\r\n      } catch (err) {\r\n        console.log(err)\r\n      } finally {\r\n        this.view()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\ntemplate{\r\n  min-height: 100vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.nome{\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  width: 16rem;\r\n  max-height: 2rem;\r\n  overflow: hidden !important;\r\n}\r\n.tamanho{\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  max-width: 10rem;\r\n  max-height: 2rem;\r\n  overflow: hidden !important;\r\n}\r\n.tipo{\r\n  max-width: 7rem;\r\n  max-height: 2rem;\r\n  overflow: hidden !important;\r\n}\r\n.descricao{\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  max-width: 30rem;\r\n  max-height: 2rem;\r\n  overflow: hidden !important;\r\n}\r\n.data{\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  max-width: 9rem;\r\n  max-height: 2rem;\r\n  overflow: hidden !important;\r\n}\r\n.icons{\r\n  text-align: center;\r\n}\r\ntable{\r\n  font-family: sans-serif;\r\n  width: 100%;\r\n  border-collapse: collapse !important;\r\n}\r\nth{\r\n  background-color: #333;\r\n  color: #fff;\r\n}\r\nth, td{\r\n  padding: .8rem;\r\n  font-size: 1.2rem;\r\n}\r\ntd{\r\n  max-height: 15px;\r\n}\r\ntbody{\r\n  background-color: #eee;\r\n  color: #555;\r\n}\r\n.pagination {\r\n  display: inline-block;\r\n}\r\n\r\n.pagination a {\r\n  color: black;\r\n  float: left;\r\n  padding: 8px 16px;\r\n  text-decoration: none;\r\n}\r\n\r\n.pagination a.active {\r\n  background-color: #4CAF50 !important;\r\n  color: white;\r\n  border-radius: 5px;\r\n}\r\n\r\n.pagination a:hover:not(.active) {\r\n  background-color: #ddd;\r\n  border-radius: 5px;\r\n}\r\n@media screen and (max-width: 600px){\r\n  .celula{\r\n    display: block;\r\n    padding-top: 2rem !important;\r\n  }\r\n  template{\r\n    overflow-x: hidden !important;\r\n    overflow-y: scroll !important;\r\n  }\r\n  thead{\r\n    display: none;\r\n  }\r\n  td{\r\n    display: block;\r\n    overflow: hidden;\r\n  }\r\n  .nome{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93.7vw !important;\r\n    max-height: 15vw;\r\n  }\r\n  .tamanho{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93vw !important;\r\n    max-height: 15vw;\r\n  }\r\n  .tipo{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93vw !important;\r\n    max-height: 15vw;\r\n  }\r\n  .descricao{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93vw !important;\r\n    max-height: 15vw;\r\n  }\r\n  .data{\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93vw !important;\r\n    max-height: 15vh;\r\n  }\r\n  .icons{\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    max-width: 93vw !important;\r\n    max-height: 15vh;\r\n  }\r\n\r\n  td:first-child{\r\n    background-color: #333;\r\n    color: #fff;\r\n    text-align: center;\r\n  }\r\n\r\n  td:nth-child(2)::before{\r\n    content: \"Tamanho\";\r\n  }\r\n\r\n  td:nth-child(3)::before{\r\n    content: \"Tipo\";\r\n  }\r\n\r\n  td:nth-child(4)::before{\r\n    content: \"Descrição\";\r\n  }\r\n\r\n  td:nth-child(5)::before{\r\n    content: \"Data\";\r\n  }\r\n\r\n  td{\r\n    text-align: right;\r\n  }\r\n\r\n  td::before{\r\n    float: left;\r\n    margin-right: 3rem;\r\n    font-weight: bold;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/arquivos"}]}