{"remainingRequest":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\router\\beforeEach.js","dependencies":[{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\router\\beforeEach.js","mtime":1612449622859},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612449484248},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1612449483050},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\eslint-loader\\index.js","mtime":1612449489577}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\victo\\\\Documents\\\\GitHub\\\\miv-front-end\\\\painel-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport store from \"../store\";\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(to, from, next) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            document.title = \"\".concat(to.name, \" - NIMPI\");\n\n            if (!(to.name !== 'login' && !store.getters['auth/hasToken'])) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.prev = 2;\n            _context.next = 5;\n            return store.dispatch('auth/ActionCheckToken');\n\n          case 5:\n            next({\n              path: to.path\n            });\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            next({\n              name: 'login'\n            });\n\n          case 11:\n            _context.next = 14;\n            break;\n\n          case 13:\n            if (to.name === 'login' && store.getters['auth/hasToken']) {\n              next({\n                name: 'Home'\n              });\n            } else {\n              next();\n            }\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})();",{"version":3,"sources":["C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\router\\beforeEach.js"],"names":["store","to","from","next","document","title","name","getters","dispatch","path"],"mappings":";;;AAAA,OAAOA,KAAP;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAe,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AACbC,YAAAA,QAAQ,CAACC,KAAT,aAAoBJ,EAAE,CAACK,IAAvB;;AADa,kBAGTL,EAAE,CAACK,IAAH,KAAY,OAAZ,IAAuB,CAACN,KAAK,CAACO,OAAN,CAAc,eAAd,CAHf;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAKHP,KAAK,CAACQ,QAAN,CAAe,uBAAf,CALG;;AAAA;AAOTL,YAAAA,IAAI,CAAC;AAAEM,cAAAA,IAAI,EAAER,EAAE,CAACQ;AAAX,aAAD,CAAJ;AAPS;AAAA;;AAAA;AAAA;AAAA;AASTN,YAAAA,IAAI,CAAC;AAAEG,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;;AATS;AAAA;AAAA;;AAAA;AAYX,gBAAIL,EAAE,CAACK,IAAH,KAAY,OAAZ,IAAuBN,KAAK,CAACO,OAAN,CAAc,eAAd,CAA3B,EAA2D;AACzDJ,cAAAA,IAAI,CAAC;AAAEG,gBAAAA,IAAI,EAAE;AAAR,eAAD,CAAJ;AACD,aAFD,MAEO;AACLH,cAAAA,IAAI;AACL;;AAhBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import store from '../store'\r\n\r\nexport default async (to, from, next) => {\r\n  document.title = `${to.name} - NIMPI`\r\n\r\n  if (to.name !== 'login' && !store.getters['auth/hasToken']) {\r\n    try {\r\n      await store.dispatch('auth/ActionCheckToken')\r\n\r\n      next({ path: to.path })\r\n    } catch (err) {\r\n      next({ name: 'login' })\r\n    }\r\n  } else {\r\n    if (to.name === 'login' && store.getters['auth/hasToken']) {\r\n      next({ name: 'Home' })\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n}\r\n"]}]}