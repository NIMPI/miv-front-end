{"remainingRequest":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\pages\\arquivos\\Arquivos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\src\\pages\\arquivos\\Arquivos.vue","mtime":1613081577818},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612449484248},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1612449483050},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612449484248},{"path":"C:\\Users\\victo\\Documents\\GitHub\\miv-front-end\\painel-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1612449620673}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { range } from 'lodash'\r\nexport default {\r\n  name: 'Arquivos',\r\n  data: function () {\r\n    return {\r\n      docs: [],\r\n      pages: {},\r\n      pagination: {},\r\n      numPage: 1\r\n    }\r\n  },\r\n  created: function () {\r\n    try {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n      })\r\n    } catch (err) {\r\n      console.log(err + 'Erro no retorno dos documentos')\r\n    }\r\n  },\r\n  methods: {\r\n    async view () {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n      })\r\n    },\r\n    navigate (page) {\r\n      this.numPage = page\r\n      try {\r\n        this.view()\r\n      } catch (err) {\r\n        console.log(err + 'Erro no retorno dos documentos')\r\n      }\r\n    },\r\n    delet (id) {\r\n      try {\r\n        this.$http.delete(`http://localhost:3000/v1/document/` + id).then(res => {\r\n          alert('Excluido com Sucesso !')\r\n        })\r\n      } catch (err) {\r\n        console.log(err)\r\n      } finally {\r\n        this.view()\r\n      }\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Arquivos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Arquivos.vue","sourceRoot":"src/pages/arquivos","sourcesContent":["<template>\r\n  <div class=\"container-componente\">\r\n    <h1 style=\"font-family: 'Khula', sans-serif;\">Arquivos</h1>\r\n    <h6 style=\"font-family: 'Khula', sans-serif;\">Instituto Federal de Rondonia</h6>\r\n    <div class=\"float-right mb-5\">\r\n    <router-link :to=\"{ name: 'Metadados' }\">\r\n      <button class=\"btn btn-success mr-3\">Novo Documento</button>\r\n    </router-link>\r\n    <button v-on:click=\"view()\" class=\"btn btn-info ml-4\">Atualizar</button>\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead class=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Nome</th>\r\n          <th scope=\"col\">Tamanho</th>\r\n          <th scope=\"col\">Tipo</th>\r\n          <th scope=\"col\">Descrição</th>\r\n          <th scope=\"col\">Data de Upload</th>\r\n          <th scope=\"col\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr style=\"height:60px;\" v-for=\"(doc, id) in docs\" v-bind:key=\"id\">\r\n          <td data-title=\"Nome\" style=\"width:400px;\">{{ doc.title }}</td>\r\n          <td data-title=\"Tamanho\">{{ doc.size + ' Mb'}}</td>\r\n          <td data-title=\"Tipo\">{{ doc.type }}</td>\r\n          <td data-title=\"Descrição\" style=\"width:400px;\">{{ doc.description }}</td>\r\n          <td data-label=\"Data de Upload\">{{ new Date(doc.dateCreated).toLocaleString() }}</td>\r\n          <td>\r\n            <router-link :to=\"{ name: 'Metadadosput', params:{id: (doc._id)} }\">\r\n              <button class=\"btn btn-primary mr-3\">\r\n                <i class=\"material-icons d-flex justify-content-center\">create</i>\r\n              </button>\r\n            </router-link>\r\n            <button v-on:click=\"delet(doc._id)\" class=\"btn btn-danger\">\r\n              <i class=\"material-icons d-flex justify-content-center\">delete</i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\" >\r\n        <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\r\n        <li v-for=\"page in pages\" :class=\"{ active: pagination.page === page }\" class=\"page-item\" v-bind:key=\"page\">\r\n          <a class=\"page-link\" href=\"#\" v-on:click=\"navigate(page)\">{{page}}</a>\r\n        </li>\r\n        <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { range } from 'lodash'\r\nexport default {\r\n  name: 'Arquivos',\r\n  data: function () {\r\n    return {\r\n      docs: [],\r\n      pages: {},\r\n      pagination: {},\r\n      numPage: 1\r\n    }\r\n  },\r\n  created: function () {\r\n    try {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n      })\r\n    } catch (err) {\r\n      console.log(err + 'Erro no retorno dos documentos')\r\n    }\r\n  },\r\n  methods: {\r\n    async view () {\r\n      this.$http.get('http://localhost:3000/v1/document?limit=9&page=' + this.numPage).then(res => {\r\n        this.docs = res.body.docs\r\n        this.pagination = res.body\r\n        this.pages = range(1, this.pagination.totalPages + 1)\r\n      })\r\n    },\r\n    navigate (page) {\r\n      this.numPage = page\r\n      try {\r\n        this.view()\r\n      } catch (err) {\r\n        console.log(err + 'Erro no retorno dos documentos')\r\n      }\r\n    },\r\n    delet (id) {\r\n      try {\r\n        this.$http.delete(`http://localhost:3000/v1/document/` + id).then(res => {\r\n          alert('Excluido com Sucesso !')\r\n        })\r\n      } catch (err) {\r\n        console.log(err)\r\n      } finally {\r\n        this.view()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\nth{\r\n  padding:10px 15px;\r\n}\r\ntable{\r\n  width: 100%;\r\n  max-width: 1220px;\r\n  margin: 0px auto;\r\n  box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);\r\n  -moz-box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);\r\n  -webkit-box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);\r\n}\r\n\r\n@media screen and (max-width:767px) {\r\n  table thead{display: none;}\r\n  table tbody{padding:0 16px;}\r\n  table tbody, table tbody tr{display: block; width: 100%;}\r\n  table tbody tr th::before, table tbody tr td::before{content: attr(data-title); display: block;}\r\n  table tbody tr td\r\n  table tbody tr th{display: block; width: 50%; float: left;}\r\n  table tbody tr{margin-bottom: 16px; float: left; clear: both; box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);\r\n  -moz-box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);\r\n  -webkit-box-shadow: 0px 4px 20px rgba(5, 577, 94, .5);}\r\n}\r\n</style>\r\n"]}]}